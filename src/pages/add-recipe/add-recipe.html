<ion-header>
    <ion-navbar>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title>Add Recipe</ion-title>
    </ion-navbar>
  </ion-header>
  
  <ion-content padding>
    <ion-item>
      <ion-label stacked>Name</ion-label>
      <ion-input type="text" [(ngModel)]="recipeName" value=""></ion-input>
    </ion-item>
    <form [formGroup]="ingredientsFormGroup" (ngSubmit)="onSubmit()">
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-label>Ingredients:</ion-label>
            <ion-list>
              <ion-item *ngFor="let item of ingredients">
                {{ item.name }} ({{ item.amount }} {{ item.unit }})
              </ion-item>   
            </ion-list>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-6>
            <div class="form-group">
              <ion-item>
                <ion-label stacked>Ingredient</ion-label>
                <ion-select interface="popover" formControlName="ingredient">
                  <ion-option *ngFor="let availableIngredient of availableIngredients" [value]="availableIngredient.name">{{ availableIngredient.name }}</ion-option>
                </ion-select>
              </ion-item>
            </div>
          </ion-col>
          <ion-col col-3>
            <div class="form-group">
              <ion-item>
                <ion-label stacked>Amount</ion-label>
                <ion-input id="amount" type="number" value="" formControlName="amount"></ion-input>
              </ion-item>
            </div>
          </ion-col>
          <ion-col col-3>
            <div class="form-group">
              <ion-item>
                <ion-label stacked>Unit</ion-label>
                <ion-select interface="popover" formControlName="unit">
                  <ion-option *ngFor="let availableUnit of ingredient.units" [value]="availableUnit">{{ availableUnit }}</ion-option>
                </ion-select>
              </ion-item>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
      <p class="error" *ngIf="formError">Please fill in all required fields above</p>
      <button ion-button type="submit" end>Add</button>
    </form>
    
    <ion-footer>
      <ion-toolbar>
        <ion-buttons end>
          <button ion-button icon-right (click)="saveRecipe()">
            Save
            <ion-icon name="send"></ion-icon>
          </button>
        </ion-buttons>
      </ion-toolbar>
    </ion-footer>
  </ion-content>
  